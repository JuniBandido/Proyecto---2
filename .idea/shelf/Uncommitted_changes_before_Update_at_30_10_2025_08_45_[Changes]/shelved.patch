Index: InterfazGraficaPrincipal.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import tkinter as tk\r\nfrom tkinter import messagebox\r\nfrom tkinter import ttk\r\nimport sqlite3\r\n\r\nclass VentanaLogin(tk.Tk):\r\n    def __init__(self):\r\n        super().__init__()\r\n        self.title(\"Inicio de sesión\")\r\n        self.config(bg=\"gray10\")\r\n        self.state(\"zoomed\")\r\n\r\n        self.imagen = tk.PhotoImage(file=\"LogoYimsaWeb-1.png\")\r\n        imagenEtiqueta = tk.Label(self, image=self.imagen)\r\n        imagenEtiqueta.pack()\r\n\r\n        tk.Frame(self, bg=\"white\", width=300, height=600).place(x=90, y=90)\r\n\r\n        tk.Label(self, text=\"Código de Usuario:\", font=(\"Times New Roman\", 20), bg=\"white\").place(x=100, y=100)\r\n        self.entry_usuario = ttk.Entry(self)\r\n        self.entry_usuario.place(x=100, y=140)\r\n\r\n        tk.Label(self, text=\"Contraseña:\", font=(\"Times New Roman\", 20), bg=\"white\").place(x=100, y=180)\r\n        self.entry_contraseña = ttk.Entry(self, show=\"*\")\r\n        self.entry_contraseña.place(x=100, y=220)\r\n\r\n        ttk.Button(self, text=\"Iniciar sesión\", command=self.verificar_login).place(x=100, y=280)\r\n\r\n    def verificar_login(self):\r\n        usuario = self.entry_usuario.get()\r\n        contraseña = self.entry_contraseña.get()\r\n\r\n        conexion = sqlite3.connect(\"usuarios.db\")\r\n        cursor = conexion.cursor()\r\n\r\n        # Buscar en administradores\r\n        cursor.execute(\"SELECT * FROM administradores WHERE codigo = ? AND contrasenia = ?\", (usuario, contraseña))\r\n        resultado_admin = cursor.fetchone()\r\n\r\n        # Buscar en empleados\r\n        cursor.execute(\"SELECT * FROM empleados WHERE codigo = ? AND contrasenia = ?\", (usuario, contraseña))\r\n        resultado_empleado = cursor.fetchone()\r\n\r\n        conexion.close()\r\n\r\n        if resultado_admin:\r\n            self.withdraw()\r\n            VentanaPrincipalAdministradores(self, usuario)\r\n        elif resultado_empleado:\r\n            self.withdraw()\r\n            VentanaPrincipalEmpleados(self, usuario)\r\n        else:\r\n            messagebox.showerror(\"Error\", \"Código o Contraseña incorrectos\")\r\n\r\nclass VentanaPrincipalEmpleados(tk.Toplevel):\r\n    def __init__(self, ventana_login, usuario):\r\n        super().__init__()\r\n        self.title(\"Panel Principal Empleado\")\r\n        self.state(\"zoomed\")\r\n        self.ventana_login = ventana_login  # Guarda referencia\r\n\r\n        tk.Label(self,text=\"Ventana de empleados\").place(x=100, y=100)\r\n\r\n        ttk.Button(self, text=\"Cerrar sesión\", command=self.cerrar_sesion).place(x=100, y=900)\r\n\r\n    def cerrar_sesion(self):\r\n        self.destroy()\r\n        self.ventana_login.deiconify()\r\n        self.ventana_login.state(\"zoomed\")\r\n        self.ventana_login.entry_usuario.delete(0, tk.END)\r\n        self.ventana_login.entry_contraseña.delete(0, tk.END)\r\n\r\nclass VentanaPrincipalAdministradores(tk.Toplevel):\r\n    def __init__(self, ventana_login, usuario):\r\n        super().__init__()\r\n        self.title(\"Panel Principal Administradores\")\r\n        self.state(\"zoomed\")\r\n        self.ventana_login = ventana_login  # Guarda referencia\r\n\r\n        tk.Label(self, text=f\"Bienvenido, {usuario}\", font=(\"Arial\", 24)).place(x=100, y=100)\r\n        ttk.Button(self, text=\"Cerrar sesión\", command=self.cerrar_sesion).place(x=100, y=900)\r\n\r\n        ttk.Button(self, text=\"Ingresar usuarios\", width=20, command=self.ingresar_nuevo).place(x=800, y=100)\r\n\r\n    def ingresar_nuevo(self):\r\n        IngresarUsuarioNuevo(self.ventana_login)\r\n\r\n    def cerrar_sesion(self):\r\n        self.destroy()\r\n        self.ventana_login.deiconify()\r\n        self.ventana_login.state(\"zoomed\")\r\n        self.ventana_login.entry_usuario.delete(0, tk.END)\r\n        self.ventana_login.entry_contraseña.delete(0, tk.END)\r\n\r\nclass IngresarUsuarioNuevo(tk.Toplevel):\r\n    def __init__(self, ventana_login):\r\n        super().__init__()\r\n        self.title(\"Agregar nuevos miembros a la empresa\")\r\n        self.state(\"zoomed\")\r\n        self.ventana_login = ventana_login\r\n\r\n        tk.Label(self, text=\"Ingresa el nombre del nuevo usuario\").place(x=100, y=100)\r\n        condigoNuevo = tk.Entry(self)\r\n        condigoNuevo.place(x=100, y=130)\r\n\r\n        tk.Label(self, text=\"Ingresa la contraseña del nuevo usuario\").place(X=100, Y=200)\r\n        contraseñaNUevo = tk.Entry(self)\r\n        contraseñaNUevo.place(x=100, y=230)\r\n\r\n        ttk.Button(self, text=\"Volver\", command=self.destroy).place(x=100, y=200)\r\n\r\n\r\nif __name__ == \"__main__\":\r\n    app = VentanaLogin()\r\n    app.mainloop()\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/InterfazGraficaPrincipal.py b/InterfazGraficaPrincipal.py
--- a/InterfazGraficaPrincipal.py	(revision 2c940b613f92c7cd3f84bdf9ec3d423e5459b933)
+++ b/InterfazGraficaPrincipal.py	(date 1761835453171)
@@ -33,11 +33,9 @@
         conexion = sqlite3.connect("usuarios.db")
         cursor = conexion.cursor()
 
-        # Buscar en administradores
         cursor.execute("SELECT * FROM administradores WHERE codigo = ? AND contrasenia = ?", (usuario, contraseña))
         resultado_admin = cursor.fetchone()
 
-        # Buscar en empleados
         cursor.execute("SELECT * FROM empleados WHERE codigo = ? AND contrasenia = ?", (usuario, contraseña))
         resultado_empleado = cursor.fetchone()
 
